import{c as f,a as b,b as h,V as c}from"./VueHeadline-BcNQwehU.js";import{V as g,a as v}from"./VueBreadcrumb-CPcrC-aL.js";import{d as w,H as _,_ as k,c as V,b as l,w as n,r as s,e as o,a as t,n as C,o as T}from"./index-Chn_3KAm.js";const y=w({metaInfo:{title:"Dashboard"},components:{VueBreadcrumb:v,VueGrid:c,VueGridItem:h,VueButton:g,VueGridRow:b,VueHeadline:f},data(){return{pending:!1}},methods:{onClick(){const r=[];this.pending=!0;for(let e=0;e<1;e++)r.push(_.get("/protected"));Promise.all(r).then(()=>{this.pending=!1}).catch(e=>{console.log(e),this.pending=!1})}},computed:{}}),x="_dashboard_z6de3_17",$={dashboard:x};function B(r,e,D,G,M,N){const a=s("vue-breadcrumb"),d=s("vue-headline"),u=s("vue-grid-item"),i=s("vue-button"),m=s("vue-grid-row"),p=s("vue-grid");return T(),V("div",{class:C(r.$style.dashboard)},[l(p,null,{default:n(()=>[l(a,{items:[{label:"Home",href:"/"},{label:"VueX Example"}]}),l(m,null,{default:n(()=>[l(u,{fill:""},{default:n(()=>[l(d,{level:"1"},{default:n(()=>[...e[0]||(e[0]=[o("Dashboard",-1)])]),_:1}),e[1]||(e[1]=o(" This demo demonstrates the authentication and re-authentication flow. ",-1)),e[2]||(e[2]=t("br",null,null,-1)),e[3]||(e[3]=t("strong",null,"Make sure to open the console to see the whole flow.",-1)),e[4]||(e[4]=t("br",null,null,-1)),e[5]||(e[5]=t("br",null,null,-1))]),_:1}),l(u,null,{default:n(()=>[e[7]||(e[7]=o(" Press this    ",-1)),l(i,{outlined:"",onClick:r.onClick},{default:n(()=>[...e[6]||(e[6]=[o("button",-1)])]),_:1},8,["onClick"]),e[8]||(e[8]=o(" and the following will happen: ",-1)),e[9]||(e[9]=t("br",null,null,-1)),e[10]||(e[10]=t("br",null,null,-1)),e[11]||(e[11]=t("ul",null,[t("li",null,[o("We will try to fetch data 10 times from our example endpoint "),t("code",null,"/protected")]),t("li",null," The endpoint will return error-code 401 for not authenticated (which is the same as sending an expired accessToken) "),t("li",null,[o(" The HttpService will handle the error and try to refresh the accessToken. "),t("ul",null,[t("li",null,"if an error occurs (random) during the refresh you will be logged out"),t("li",null,[o(" if the refresh works your accessToken will change the value to "),t("code",null,"accessToken2"),o(" and the request will be repeated. ")])])])],-1))]),_:1})]),_:1})]),_:1})],2)}const H={$style:$},I=k(y,[["render",B],["__cssModules",H]]);export{I as default};
